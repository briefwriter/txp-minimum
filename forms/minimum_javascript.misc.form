<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/prettify/r224/prettify.js"></script>
<script>
	$(function () {
		// Google Code Prettify
		window.prettyPrint && prettyPrint();

		// initialise drawer
		var drawer = new hideShow('drawer-trigger');
	});

	// function hideShow() is the constructor for a hideShow widget
	function hideShow(id) {
		this.$id = $('#' + id);
		this.$region = $('#' + this.$id.attr('aria-controls'));
		this.toggleSpeed = 100;
		this.bindHandlers();
	}

	// function bindHandlers() is a member function to bind event handlers to the hideShow region
	hideShow.prototype.bindHandlers = function() {
		var thisObj = this;
		this.$id.click(function(e) {
			thisObj.toggleRegion();
			e.stopPropagation();
			return false;
		});
	}

	// function toggleRegion() is a member function to toggle the display of the hideShow region
	hideShow.prototype.toggleRegion = function() {
		var thisObj = this;

		// toggle the region
		this.$region.slideToggle(this.toggleSpeed, function() {
			// region is collapsed
			if ($(this).attr('aria-expanded') === 'false') { 
				// update the aria-expanded attribute of the region
				$(this).attr('aria-expanded', 'true');
				// update the button state
				thisObj.$id.attr('aria-pressed', 'true');
			}
			// region is expanded
			else {
				// update the aria-expanded attribute of the region
				$(this).attr('aria-expanded', 'false');
				// update the button state
				thisObj.$id.attr('aria-pressed', 'false');
			}
		});
	}
</script>

<!-- Scripts you only want to run if section name is "articles". -->
<txp:if_section name="articles">

	<!-- Scripts for showing comment count 3rd party site Disqus. Besure to in global_variables form state whether or not you want to use Discus, and if you do, it is required that you fill in your disqus shortname in the global_variables form as well-->
	<txp:if_variable name="disqus_y_n" value="Y">  
	    <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = '<txp:variable name="disqus_shortname" />'; // required: make sure you have filled out your shortname in form "global_variables"

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
    </script>
    </txp:if_variable>
    
    <!-- For Twitter Button script, to tweet individual articles-->
    <txp:if_variable name="twitterbutton_y_n" value="Y"> 
	<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
    </txp:if_variable>
</txp:if_section>
